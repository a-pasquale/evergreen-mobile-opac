// Generated by CoffeeScript 1.3.1

define(function() {
  var c, endMatch, escapeRegExp;
  c = {
    start: '<%',
    end: '%>',
    interpolate: /<%=(.+?)%>/g
  };
  escapeRegExp = function(s) {
    return s.replace(/([.*+?^${}()|[\]\/\\])/g, '\\$1');
  };
  endMatch = new RegExp("'(?=[^" + c.end.substr(0, 1) + "]*" + escapeRegExp(c.end) + ")", "g");
  return {
    template: function(str, data) {
      var fn, x;
      x = str.replace(/[\r\t\n]/g, " ").replace(endMatch, "\t").split("'").join("\\'").split("\t").join("'").replace(c.interpolate, "',$1,'").split(c.start).join("');").split(c.end).join("p.push('");
      x = "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + x + "');}return p.join('');";
      fn = new Function('obj', x);
      if (data) {
        return fn(data);
      } else {
        return fn;
      }
    }
  };
});
